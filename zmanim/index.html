<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Celestial Time Calculator</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <div class="card">
            <h1>Zmanim (Experimental)</h1>
            <p>Calculate Sunrise, Noon, Sunset, and Dusk based on NOAA algorithms.</p>

            <form id="calculationForm">
                <div class="form-group">
                    <label for="citySelect">City:</label>
                    <select id="citySelect" required></select> <!-- Changed from input to select -->
                </div>

                <div class="form-group">
                    <label for="dateInput">Date:</label>
                    <input type="date" id="dateInput" required>
                </div>

                <div class="form-group">
                    <label for="duskAngleInput">Dusk Angle (below horizon):</label>
                    <input type="number" id="duskAngleInput" value="5" min="0" max="90" step="0.1" required>
                    <span>°</span>
                </div>

                <div class="form-actions">
                    <button type="submit" id="calculateBtn">Calculate</button>
                    <button type="button" id="clearBtn">Clear</button>
                </div>
            </form>

            <div id="loadingIndicator" class="loading" style="display: none;">
                <div class="spinner"></div>
                Calculating...
            </div>

            <div id="errorDisplay" class="error-message" style="display: none;"></div>

            <div id="resultsCard" class="results-card" style="display: none;">
                <h2 id="resultLocation"></h2>
                <p id="resultDate"></p>
                <div class="result-item">
                    <span>Sunrise:</span>
                    <strong id="resultSunrise"></strong>
                </div>
                <div class="result-item">
                    <span>Solar Noon:</span>
                    <strong id="resultSolarNoon"></strong>
                </div>
                <div class="result-item">
                    <span>Sunset:</span>
                    <strong id="resultSunset"></strong>
                </div>
                 <div class="result-item">
                    <span>Dusk (<span id="resultDuskAngle"></span>°):</span>
                    <strong id="resultDusk"></strong>
                </div>
                 <div class="result-item small-text">
                    <span>Timezone:</span>
                    <span id="resultTimezone"></span>
                </div>
                 <div class="result-item small-text">
                    <span>Lat/Lon:</span>
                    <span id="resultLatLon"></span>
                </div>
            </div>
             <div class="attribution">
                Calculations based on NOAA GML Solar Calculator algorithms. Location data self-contained.
             </div>
             <!-- Added Disclaimer -->
             <p class="disclaimer">
                 Note: Calculated times are based on standard algorithms and may differ by up to a minute from other sources due to rounding, algorithm variations, or specific definitions (e.g., for religious times).
             </p>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>